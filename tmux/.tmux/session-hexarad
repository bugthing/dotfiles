#-------------------------------------------------------------
# hexarad - tmux session setup
#-------------------------------------------------------------

#-------------------------------------------------------------
# Start all the containers in the current window
send-keys 'docker start postgres redis' C-m

# split virtically (50/%50%)
splitw -h -p 50

# select the zeroth pane
selectp -t 0

# split horizontal (50/%50%)
splitw -p 50

#-------------------------------------------------------------
neww -n OPTIRAD
send-keys 'cd ~/Work/hexarad/optirad/' C-m

splitw -v -p 10
selectp -t 1
send-keys 'cd ~/Work/hexarad/optirad/' C-m
send-keys 'RAILS_ENV=test DATABASE_URL=postgres://postgres:postgres@0.0.0.0:5430/optirad_test bundle exec rspec --help' C-m

splitw -h -p 50
selectp -t 2
send-keys 'cd ~/Work/hexarad/optirad/' C-m
send-keys 'DATABASE_URL=postgres://postgres:postgres@0.0.0.0:5430/optirad_development bundle exec rails c' C-m

splitw -h -p 45
selectp -t 3
send-keys 'cd ~/Work/hexarad/optirad/' C-m
send-keys 'DATABASE_URL=postgres://postgres:postgres@0.0.0.0:5430/optirad_development bundle exec rails s' C-m
#-------------------------------------------------------------

#-------------------------------------------------------------
neww -n OP
send-keys 'cd ~/Work/hexarad/orders_portal/' C-m

splitw -v -p 20
selectp -t 1
send-keys 'cd ~/Work/hexarad/orders_portal/' C-m
#-------------------------------------------------------------

#-------------------------------------------------------------
neww -n WFM
send-keys 'cd ~/Work/hexarad/hexarad_workflow_manager/' C-m

splitw -v -p 20
selectp -t 1
send-keys 'cd ~/Work/hexarad/hexarad_workflow_manager/' C-m
#-------------------------------------------------------------

# select current window
select-window -t OPTIRAD
